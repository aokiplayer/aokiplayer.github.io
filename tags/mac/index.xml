<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Mac :: タグ :: Yagamo Style</title>
    <link>https://yagamo-style.com/tags/mac/index.html</link>
    <description></description>
    <generator>Hugo</generator>
    <language>ja-JP</language>
    <lastBuildDate>Fri, 02 Aug 2019 21:49:24 +0900</lastBuildDate>
    <atom:link href="https://yagamo-style.com/tags/mac/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>MACアドレスを取得してファイルに書き出すシェルスクリプト</title>
      <link>https://yagamo-style.com/2019/08/02/getmacaddress/index.html</link>
      <pubDate>Fri, 02 Aug 2019 21:49:24 +0900</pubDate>
      <guid>https://yagamo-style.com/2019/08/02/getmacaddress/index.html</guid>
      <description>はじめに トレーニングをお客様先で実施する際、持ち込んだMacを現地のWiFiに接続するためにMACアドレスを求められる場合があります 未認証のデバイスを接続させないため、MACアドレスでフィルタリングを掛ける目的です 手作業で取得するのは辛いので、シェルスクリプトを用意しました あとで集約する際のために、ファイル名にはMacのSerial Numberを付けるようにしました 検証環境 macOS 10.14.6 Mojave シェルスクリプトの内容 #!/bin/sh ## GET Serial Number of this Mac SERIAL=`ioreg -l | awk &#39;/IOPlatformSerialNumber/ { if (gsub(/&#34;/, &#34;&#34;)) print $4 }&#39;` ## Write MAC address of primary WiFi interfce in &#34;{SERIAL NUMBER}.txt&#34; on this user&#39;s Desktop ifconfig en0 ether | awk &#39;/ether/ { print $2 }&#39; &gt; ~/Desktop/${SERIAL}.txt Serial Numberを取得して、変数に代入 SERIAL=`ioreg -l | awk &#39;/IOPlatformSerialNumber/ { if (gsub(/&#34;/, &#34;&#34;)) print $4 }&#39;` ioregで、ハードウェアデバイスとドライバの情報を取得 awkを利用して、以下の処理を実行 IOPlatformSerialNumberを含む行だけを抽出 | &#34;IOPlatformSerialNumber&#34; = &#34;C0XXXXXXXXXX&#34; &#34;を除去する | IOPlatformSerialNumber = C0XXXXXXXXXX スペースで区切った4つ目のフィールドを出力 C0XXXXXXXXXX WiFiインターフェイスのMACアドレスを取得し、ファイルに書き込み ifconfig en0 ether | awk &#39;/ether/ { print $2 }&#39; &gt; ~/Desktop/${SERIAL}.txt ifconfigでインターフェイスを指定して、MACアドレスの情報を取得 awkを利用して、以下の処理を実行 etherを含む行だけを抽出 ether XX:XX:XX:XX:XX:XX　スペースで区切った2つ目のフィールドを出力 XX:XX:XX:XX:XX:XX デスクトップ上の、ファイル名{Serial Number}.txtのファイルに書き込み 最後に awkとか正規表現とか、いまだに苦手です 「こう書いたほうがいいよ」などあれば、教えてください！ 作成したシェルスクリプト は、aokiplayer/scriptsに置きました</description>
    </item>
  </channel>
</rss>